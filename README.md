# üöÄ drewsky - AI Collaboration Framework for Claude Code

**Transform Claude Code into a 10x more effective AI assistant**

> *Combining prompt engineering best practices from Google's AI course and AI Engineering techniques to create a structured, verifiable, and transparent AI collaboration workflow.*

---

## üéì Origin Story & Inspiration

This framework was developed by synthesizing advanced prompt engineering techniques discovered through:

### üì∫ Primary Learning Sources

1. **[Google AI Course](https://www.youtube.com/googledevelopers)** (YouTube)
   - **TCREI Framework**: Task, Context, Reference, Evaluation, Input validation
   - **Chain of Verification (CoVe)**: Ensuring factual accuracy through source verification
   - Prompt decomposition strategies
   - Structured reasoning approaches

2. **[AI Engineering / Prompt Engineering Course](https://www.youtube.com/results?search_query=ai+engineering+prompt+engineering)**
   - **MAKER Logic**: Breaking complex tasks into atomic, manageable steps
   - Confidence scoring and uncertainty management
   - Context window optimization techniques
   - Iterative refinement workflows

### üî¨ 2025 Research-Backed Enhancements

**NEW in v2.0**: Integration of cutting-edge AI research from top institutions:

3. **[Meta AI Research](https://ai.meta.com/research/)** - Chain of Verification (CoVe)
   - **4-Step Verification Methodology**: Systematic claim validation process
   - **Performance**: Up to 23% reduction in hallucinations
   - **Paper**: "Chain-of-Verification Reduces Hallucination in Large Language Models"
   - **Implementation**: Upgraded Rule 8 with explicit verification steps

4. **[Microsoft Research](https://www.microsoft.com/en-us/research/)** - Magentic-One Multi-Agent System
   - **Dual-Loop Planning**: Task Ledger (strategic) + Progress Ledger (tactical)
   - **Stall Detection**: Automatic replanning when stuck
   - **Innovation**: Separates facts from educated guesses
   - **Implementation**: Enhanced MAKER decomposition (Rule 7)

5. **[Stanford University](https://ai.stanford.edu/) / SambaNova** - Agentic Context Engine (ACE)
   - **Reflective Learning**: Systematic skill extraction from experience
   - **Agent + Reflector + SkillManager** architecture
   - **Performance Analysis**: Captures helpful/harmful patterns
   - **Implementation**: Added performance reflection to completion snapshots

6. **[Google DeepMind](https://deepmind.google/)** - AlphaEvolve
   - **Prompt Optimization**: Continuous improvement through tracking
   - **Evidence-Based Refinement**: Systematic prompt evolution
   - **Verification Code**: Automated validation patterns
   - **Implementation**: Framework self-optimization over time

### üí° The Problem This Solves

While exploring AI coding assistants, I noticed consistent issues:
- ‚ùå AI would make assumptions instead of asking clarifying questions
- ‚ùå Implementations would surprise me with unexpected changes
- ‚ùå Claims were made without verification
- ‚ùå Complex tasks became overwhelming and unmanageable
- ‚ùå No visibility into AI's confidence level

### ‚ú® The Solution

By applying academic prompt engineering frameworks to Claude Code's workflow system, I created **drewsky (Research ‚Üí Plan ‚Üí Implement)** with cognitive enhancements:

- ‚úÖ **TCREI Validation** ensures mutual understanding before starting
- ‚úÖ **Chain of Verification** eliminates hallucinations and assumptions
- ‚úÖ **MAKER Decomposition** makes complex tasks manageable
- ‚úÖ **Confidence Scoring** provides transparency about uncertainty
- ‚úÖ **Approval Gates** give you control at every phase

This isn't just a prompt template‚Äîit's a complete restructuring of how AI assistants collaborate with developers.

---

## üôè Credits & Acknowledgments

**Learning Resources:**
- Google AI/ML YouTube courses on prompt engineering
- AI Engineering courses on structured reasoning
- Anthropic's Claude documentation on effective prompting
- Academic research on Chain-of-Verification techniques

**Framework Components:**
- **TCREI**: Adapted from Google's prompt engineering guidelines
- **MAKER**: Based on agile task decomposition principles + Microsoft's Magentic-One
- **CoVe**: Meta AI's 4-step verification methodology + academic research
- **drewsky Workflow**: Original synthesis combining all techniques
- **Operational Excellence**: Schema-first, verification-driven, autonomous debugging
- **Research Enhancements (v2.0)**: Meta, Microsoft, Stanford, DeepMind integrations

**Built With:**
- Claude Code CLI by Anthropic
- Tested and refined through real-world development projects

---

## üì¶ What's in This Package?

This package contains everything you need to install the **drewsky (Research ‚Üí Plan ‚Üí Implement) Framework with Cognitive Enhancements** for Claude Code.

### Files Included:

| File | Description |
|------|-------------|
| `install-drewsky-framework.sh` | **Automatic installer script (recommended)** |
| `DREWSKY_FRAMEWORK_SETUP_GUIDE.md` | **Complete setup guide with examples** |
| `instructions.md` | Main framework file (auto-loaded by Claude Code) |
| `ENFORCED_DREWSKY_PROTOCOL.md` | Complete protocol rules and behaviors |
| `DREWSKY_STATUS.md` | Status, testing, and verification guide |

---

## ‚ö° Quick Start (60 seconds)

### Step 1: Download This Package

Download or clone this entire `drewsky_Framework_Package` folder.

### Step 2: Run the Installer

**Option A: Global Install (Recommended)**
```bash
cd drewsky_Framework_Package
./install-drewsky-framework.sh
# Choose option 1 (global)
```

**Option B: Project-Specific Install**
```bash
cd drewsky_Framework_Package
./install-drewsky-framework.sh
# Choose option 2 (project-specific)
```

### Step 3: Restart Claude Code

```bash
# Restart Claude Code to load the framework
```

### Step 4: Test It

Start Claude Code and try:
```
"Add a search feature"
```

Expected response: Claude will ask TCREI validation questions (Context, Evaluation, etc.)

‚úÖ **If you see TCREI questions, the framework is working!**

---

## üìñ What Does This Do?

### Before drewsky ‚ùå
```
You: "Add user authentication"
Claude: [Immediately implements something]
You: "That's not what I wanted!"
```

### After drewsky ‚úÖ
```
You: "Add user authentication"
Claude: "I need to clarify:
         - What authentication method?
         - Why is this needed?
         - What defines success?"
You: [Provides clarity]
Claude: "Research complete - here's what I found [verified]"
Claude: "Plan created - 6 atomic steps, approve?"
You: "Approved"
Claude: [Implements step by step with progress updates]
```

---

## üéØ Key Features

After installation, Claude Code will automatically:

‚úÖ **Ask clarifying questions** when tasks are vague (TCREI)
‚úÖ **Research before implementing** (no more assumptions)
‚úÖ **Create explicit plans** with code snippets
‚úÖ **Wait for your approval** before making changes
‚úÖ **Verify all claims** with file:line references
‚úÖ **Score confidence** on recommendations (0-100%)
‚úÖ **Break complex tasks** into atomic steps (<30 min each)
‚úÖ **Monitor context** and auto-compact at 40%

---

## üß† The Complete Framework (18 Rules)

### Core drewsky Workflow (Rules 1-5)
1. **Research First** - Always explore before implementing
2. **Explicit Planning** - Code snippets and approval gates
3. **Controlled Implementation** - Follow approved plan exactly
4. **Context Management** - Auto-compact at thresholds
5. **Sub-Agent Discipline** - Keep parent context clean

### Cognitive Frameworks (Rules 6-9)
6. **TCREI Validation** - Task, Context, Reference, Evaluation, Input
7. **MAKER Decomposition** - Tasks >30min ‚Üí atomic steps <30min each
8. **Chain of Verification** - Verify all claims with file:line sources
9. **Confidence Scoring** - 0-100% explicit uncertainty (stop if <80%)

### Operational Excellence (Rules 10-14)
10. **Anti-Vibe Verification** - Tests must RUN and PASS (exit code 0)
11. **Schema is Law** - Read schema.ts before any data work
12. **Context-First Pattern** - Read backend before building UI
13. **Recursive Debugging** - Autonomous error recovery (if confident)
14. **In-Distribution Tooling** - Standard tools over custom scripts

### Research-Backed Enhancements v2.0 (Rules 15-18)
15. **Meta's 4-Step CoVe** - Systematic verification (23% fewer hallucinations)
16. **Microsoft's Dual Ledgers** - Strategic + tactical planning with stall detection
17. **Stanford's ACE Reflector** - Learn from experience, build skillbook
18. **DeepMind's Prompt Evolution** - Continuous framework optimization

---

## üìö Documentation

### For Quick Setup:
1. Run `install-rpi-framework.sh`
2. Test with a simple command

### For Detailed Understanding:
Read `DREWSKY_FRAMEWORK_SETUP_GUIDE.md` for:
- Complete installation instructions
- Usage examples
- Troubleshooting
- Configuration options
- FAQ

### For Protocol Details:
Read `ENFORCED_DREWSKY_PROTOCOL.md` for:
- Complete workflow rules
- Quality gates
- Forbidden behaviors
- Response templates

### For Testing:
Read `DREWSKY_STATUS.md` for:
- Verification procedures
- Test scenarios
- Success indicators

---

## üîß Manual Installation

If you prefer manual installation:

1. **Global Install:**
   ```bash
   cp instructions.md ~/.claude/
   cp ENFORCED_DREWSKY_PROTOCOL.md ~/.claude/
   cp DREWSKY_STATUS.md ~/.claude/
   ```

2. **Project Install:**
   ```bash
   mkdir -p .claude
   cp instructions.md .claude/
   cp ENFORCED_DREWSKY_PROTOCOL.md .claude/
   cp DREWSKY_STATUS.md .claude/
   ```

3. Restart Claude Code

---

## ‚úÖ Verification Tests

After installation, test these scenarios:

### Test 1: TCREI Validation
```
You: "Add a search feature"
Expected: Claude asks for Context, Evaluation criteria
```

### Test 2: Chain of Verification
```
You: "How does authentication work?"
Expected: Claude verifies with file:line references
```

### Test 3: MAKER Decomposition
```
You: "Refactor the database layer"
Expected: Claude breaks into atomic steps, asks for approval
```

### Test 4: Confidence Scoring
```
You: "Should we use Redis or Memcached?"
Expected: Claude provides recommendation with confidence score
```

---

## üéì Example Workflow

```
You: "Add caching to improve API performance"

Claude: "TCREI VALIDATION
         I need to clarify:
         - Context: Which APIs are slow? Current response times?
         - Evaluation: What's the target performance?
         - Reference: Any existing caching patterns in the codebase?"

You: "Product API is 2s, want <500ms, no caching exists yet"

Claude: "RESEARCH PHASE
         Exploring codebase...

         Findings:
         ‚úì Product API in api/products.ts:45-67 (verified)
         ‚úì No caching layer exists (verified)
         ‚úì Redis in package.json (verified)

         Confidence: 90%

         Please review .research.md
         Approve to proceed to planning?"

You: "Approved"

Claude: "PLAN PHASE
         Created .plan.md with 5 atomic steps:

         1. Install Redis client [15 min]
         2. Create cache middleware [20 min]
         3. Add to product endpoints [25 min]
         4. Add cache invalidation [20 min]
         5. Test performance [15 min]

         Overall confidence: 85%

         Approve to implement?"

You: "Approved"

Claude: "IMPLEMENTATION
         ‚úì Step 1/5 complete - Redis client installed
         ‚úì Step 2/5 complete - Middleware created
         ‚úì Step 3/5 complete - Endpoints cached
         ‚úì Step 4/5 complete - Invalidation added
         ‚úì Step 5/5 complete - Tests passing

         Performance: 2s ‚Üí 380ms ‚úì
         Context: 35%

         Created .completion-snapshot.md"
```

---

## ‚öôÔ∏è Configuration

Default settings (can be customized in `~/.claude/settings.json`):

- **Confidence thresholds:**
  - Minimum: 70% (stops below this)
  - Ask questions: 80% (asks for clarity below this)

- **Context thresholds:**
  - Warning: 40% (suggests compaction)
  - Emergency: 60% (forces compaction)

- **Quality gates:**
  - TCREI required for non-trivial tasks
  - All claims must be verified
  - Plans require atomic steps

---

## üö´ Uninstalling

To remove the framework:

```bash
# Global uninstall
rm ~/.claude/instructions.md
rm ~/.claude/ENFORCED_DREWSKY_PROTOCOL.md
rm ~/.claude/DREWSKY_STATUS.md

# Project uninstall
rm .claude/instructions.md
rm .claude/ENFORCED_DREWSKY_PROTOCOL.md
rm .claude/DREWSKY_STATUS.md
```

---

## üí° Override Commands

Need to bypass drewsky for a quick task?

```
"Skip drewsky: [your task]"
"Emergency mode: [your task]"
"No plan needed: [your task]"
```

Claude will warn you but comply.

---

## ü§ù Sharing This Package

To share with others:

1. **Send the entire `drewsky_Framework_Package` folder**
2. **Tell them to run:** `./install-drewsky-framework.sh`
3. **That's it!**

You can also:
- Zip the package: `zip -r drewsky_Framework.zip drewsky_Framework_Package/`
- Upload to GitHub/Drive/Dropbox
- Email the zip file

---

## üìä What You Get

| Benefit | Description |
|---------|-------------|
| **No Surprises** | Always see plan before implementation |
| **Verified Facts** | All claims have file:line references |
| **Clear Communication** | TCREI ensures mutual understanding |
| **Manageable Tasks** | Complex work broken into atomic steps |
| **Risk Management** | Confidence scores show certainty |
| **Context Efficiency** | Auto-compaction keeps sessions fast |
| **Quality Control** | Multiple approval gates prevent errors |

---

## üéØ Perfect For

- ‚úÖ Complex refactoring projects
- ‚úÖ Adding new features to existing codebases
- ‚úÖ Debugging unfamiliar code
- ‚úÖ Learning new frameworks/libraries
- ‚úÖ Preventing costly mistakes
- ‚úÖ Managing large, multi-step tasks
- ‚úÖ Collaborative development

---

## üìû Support

If you encounter issues:

1. Read the troubleshooting section in `DREWSKY_FRAMEWORK_SETUP_GUIDE.md`
2. Check `DREWSKY_STATUS.md` for verification tests
3. Ask Claude: "Am I operating under drewsky protocol?"

---

## üöÄ Getting Started

**Ready to 10x your AI collaboration?**

```bash
./install-drewsky-framework.sh
```

Choose your installation scope, restart Claude Code, and experience the difference!

---

## üî¨ What's New in v2.0

**Research-Backed Enhancements** from top AI labs:

- ‚ú® **Meta AI's 4-Step CoVe**: Systematic verification reduces hallucinations by 23%
- ‚ú® **Microsoft's Magentic-One**: Dual-loop planning with automatic stall detection
- ‚ú® **Stanford's ACE Framework**: Reflective learning builds reusable skillbook
- ‚ú® **DeepMind's AlphaEvolve**: Framework self-optimizes based on evidence

**Total Rules**: 18 (up from 9 in v1.0)
**Evidence Base**: 4 major research labs + 2 YouTube courses + field testing
**Performance**: Maximum rigor, zero hallucinations, autonomous excellence, continuous learning

---

**Version:** 2.0
**Last Updated:** 2025-12-07
**Compatibility:** Claude Code v0.2.0+
**Research Integration**: Meta AI, Microsoft Research, Stanford, Google DeepMind

---

**Welcome to the most comprehensive, research-backed AI collaboration framework available!** üéâ
